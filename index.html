<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Vendas e Estoque</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }

        header {
            background-color: #4CAF50;
            color: white;
            padding: 10px 0;
            text-align: center;
        }

        .container {
            width: 90%;
            max-width: 800px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        h1, h2 {
            margin-bottom: 10px;
        }

        label {
            display: block;
            margin: 10px 0 5px;
        }

        input, select {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            text-align: left;
            padding: 10px;
            border: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
        }

        .section {
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Gerenciador de Vendas e Estoque</h1>
    </header>

    <div class="container">
        <!-- Formulário de Lançamento de Vendas -->
        <section class="section">
            <h2>Lançar Vendas</h2>
            <form id="sales-form">
                <label for="product-name">Nome do Produto:</label>
                <select id="product-name" required>
                    <option value="Musgo">Musgo</option>
                    <option value="Vidro">Vidro</option>
                    <option value="Terrário">Terrário</option>
                </select>

                <label for="product-description">Descrição do Produto:</label>
                <input type="text" id="product-description" placeholder="Ex: Caneca personalizada" required>

                <label for="gross-value">Valor Bruto:</label>
                <input type="number" id="gross-value" placeholder="Ex: 50.00" step="0.01" required>

                <label for="net-value">Valor Líquido:</label>
                <input type="number" id="net-value" placeholder="Ex: 40.00" step="0.01" required>

                <label for="material-cost">Gasto com Matéria-Prima:</label>
                <input type="number" id="material-cost" placeholder="Ex: 10.00" step="0.01" required>

                <label for="quantity-sold">Quantidade Vendida:</label>
                <input type="number" id="quantity-sold" placeholder="Ex: 1" min="1" required>

                <button type="submit">Adicionar Venda</button>
            </form>

            <table id="sales-table">
                <thead>
                    <tr>
                        <th>Nome do Produto</th>
                        <th>Descrição</th>
                        <th>Valor Bruto</th>
                        <th>Valor Líquido</th>
                        <th>Custo Matéria-Prima</th>
                        <th>Quantidade</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Formulário de Gerenciamento de Estoque -->
        <section class="section">
            <h2>Gerenciar Estoque</h2>
            <form id="inventory-form">
                <label for="item-description">Descrição do Item:</label>
                <input type="text" id="item-description" placeholder="Ex: Caixa de papel" required>

                <label for="quantity">Quantidade:</label>
                <input type="number" id="quantity" placeholder="Ex: 10" required>

                <label for="operation">Operação:</label>
                <select id="operation" required>
                    <option value="entrada">Entrada</option>
                    <option value="saida">Saída</option>
                </select>

                <button type="submit">Atualizar Estoque</button>
            </form>

            <table id="inventory-table">
                <thead>
                    <tr>
                        <th>Descrição</th>
                        <th>Quantidade</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </section>
    </div>

    <script>
        // Gerenciar vendas
        const salesForm = document.getElementById('sales-form');
        const salesTableBody = document.querySelector('#sales-table tbody');

        const inventory = {
            Musgo: 10,
            Vidro: 20,
            Terrário: 15
        };

        const updateInventoryTable = () => {
            const inventoryTableBody = document.querySelector('#inventory-table tbody');
            const rows = Object.entries(inventory).map(([desc, qty]) => 
                `<tr><td>${desc}</td><td>${qty}</td></tr>`
            ).join('');
            inventoryTableBody.innerHTML = rows;
        };

        salesForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const productName = document.getElementById('product-name').value;
            const description = document.getElementById('product-description').value;
            const grossValue = document.getElementById('gross-value').value;
            const netValue = document.getElementById('net-value').value;
            const materialCost = document.getElementById('material-cost').value;
            const quantitySold = parseInt(document.getElementById('quantity-sold').value, 10);

            if (!inventory[productName] || inventory[productName] < quantitySold) {
                alert(`Estoque insuficiente para o produto: ${productName}`);
                return;
            }

            inventory[productName] -= quantitySold;
            updateInventoryTable();

            const row = `<tr>
                <td>${productName}</td>
                <td>${description}</td>
                <td>${parseFloat(grossValue).toFixed(2)}</td>
                <td>${parseFloat(netValue).toFixed(2)}</td>
                <td>${parseFloat(materialCost).toFixed(2)}</td>
                <td>${quantitySold}</td>
            </tr>`;

            salesTableBody.innerHTML += row;
            salesForm.reset();
        });

        // Gerenciar estoque
        const inventoryForm = document.getElementById('inventory-form');

        inventoryForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const description = document.getElementById('item-description').value;
            const quantity = parseInt(document.getElementById('quantity').value, 10);
            const operation = document.getElementById('operation').value;

            if (!inventory[description]) inventory[description] = 0;

            inventory[description] += operation === 'entrada' ? quantity : -quantity;

            if (inventory[description] < 0) inventory[description] = 0;

            updateInventoryTable();
            inventoryForm.reset();
        });

        // Inicializar a tabela de estoque
        updateInventoryTable();
    </script>
</body>
</html>
